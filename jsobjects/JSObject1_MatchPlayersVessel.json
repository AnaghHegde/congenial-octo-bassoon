{
  "unpublishedCollection": {
    "name": "JSObject1",
    "pageId": "MatchPlayersVessel",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tInit:()=>{\n\t\tstoreValue('key_UpdatePlayer_Payload', \"\");\n\t\tstoreValue('key_AddPlayer_Payload', \"\");\n\t\tstoreValue('key_AddPlayer_AddAPIFail', \"\");\n\t\tstoreValue('key_UpdatePlayer_AddAPIFail', \"\");\n\t},\n\tSelectVessel:()=>{\n\t\tstoreValue('key_SelectedVessel_imo', SelectVessel.selectedRow.imo);\n\t\tstoreValue('key_SelectedVessel_id', SelectVessel.selectedRow.id);\n\t\tcloseModal('Modal_VesselSearch');\n\t},\n\tGetPlayer:() => {\n\t\tJSObject1.Init();\n\t\tGetVessel.run(\n\t\t\t// success\n\t\t\t() => {GetPlayersVessel.run(\n\t\t\t\t//success\n\t\t\t\t() => {},\n\t\t\t\t//fail\n\t\t\t\t() => {showAlert(JSON.stringify(GetPlayersVessel.data.message));}\n\t\t\t);},\n\t\t\t//fail\n\t\t\t() => {showAlert(JSON.stringify(GetVessel.data.message));}\t\t\n\t\t);\n\t\t\n\t},\n\tDeleteInstallation:()=>{\n\t\tDeletePlayersInstallation.run(\n\t\t\t//success\n\t\t\t() => {GetPlayersVessel.run();closeModal('ModalDelete');},\n\t\t\t//fail\n\t\t\t() => {showAlert(\"Something went wrong - Can't delete player\");}\n\t\t)\n\t},\t\n\tUpdatePlayer:()=>{\t\n\t\tif(Input_VesselIMO.text==\"\"){\n\t\t\tshowAlert(\"Vessel ID is required\");\n\t\t}\n\t\telse{\t\t\t\n\t\t\tlet payload_update = [];\n\t\t\tlet buildPayload = {};\n\t\t\tbuildPayload = {\n\t\t\t\t\"id\": ListPlayers.selectedRow.Id,\n\t\t\t\t\"share\": (EditShare.text==\"\"?null:EditShare.text),\n\t\t\t\t\"since\": (EditSince.text==\"\"?null:EditSince.text),\n\t\t\t\t\"until\": (EditUntil.text==\"\"?null:EditUntil.text)\n\t\t\t}\n\t\t\tpayload_update.push(buildPayload);\n\t\t\tstoreValue(\"key_UpdatePlayer_Payload\",payload_update);\n\t\t\t\t\n\t\t\tUpdatePlayersVessels.run(\n\t\t\t\t//success\t\n\t\t\t\t() => {storeValue(\"key_UpdatePlayer_AddAPIFail\",\"\");JSObject1.GetPlayer();closeModal('ModalEdit')},\n\t\t\t\t//fail\n\t\t\t\t() => {showAlert(\"Something went wrong - Player not updated\"); storeValue(\"key_UpdatePlayer_AddAPIFail\", UpdatePlayersVessels.data.message)}\n\t\t\t)\t\t\t\n\t\t}\t\t\n\t},\n\tAddPlayer:()=>{\t\t\n\t\tif(Input_VesselIMO.text==\"\"){\n\t\t\tshowAlert(\"Installation ID is required\");\n\t\t}\n\t\telse{\n\t\t\tlet payload_update = [];\n\t\t\tlet buildPayload = {};\n\t\t\tbuildPayload = {\n\t\t\t\t\"role\": AddRole.selectedOptionValue,\n\t\t\t\t\"playerId\": AddPlayerId.text,\n\t\t\t\t\"since\": (AddSince.text==\"\"?null:AddSince.text),\n\t\t\t\t\"until\": (AddUntil.text==\"\"?null:AddUntil.text)\n\t\t\t}\n\t\t\tif(AddRole.selectedOptionValue==\"owner\"){\n\t\t\t\tbuildPayload.share = AddShare.text;\n\t\t\t}\n\t\t\tpayload_update.push(buildPayload);\n\t\t\tstoreValue(\"key_AddPlayer_Payload\",payload_update)\n\n\t\t\tAddPlayersVessel.run(\n\t\t\t\t//success\t\n\t\t\t\t() => {storeValue(\"key_AddPlayer_AddAPIFail\",\"\");JSObject1.GetPlayer();closeModal('ModalAdd')},\n\t\t\t\t//fail\n\t\t\t\t() => {showAlert(\"Something went wrong - New Player not inserted\"); storeValue(\"key_AddPlayer_AddAPIFail\", AddPlayersVessel.data.message)}\n\t\t\t)\t\t\t\n\t\t}\n\t}\n}",
    "variables": []
  },
  "id": "MatchPlayersVessel_JSObject1",
  "deleted": false,
  "gitSyncId": "61ae2cefd3e4214454c24ccd_61c4343ce89bc475f3cd16ab"
}